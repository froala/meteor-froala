/*!
 * froala_editor v2.9.8 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */

!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(e,t){return t===undefined&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),i(t)}:i(window.jQuery)}(function(s){if(s.extend(s.FE.DEFAULTS,{imageTUIOptions:{includeUI:{theme:{"menu.normalIcon.path":"https://cdn.jsdelivr.net/npm/tui-image-editor@3.2.2/dist/svg/icon-d.svg","menu.activeIcon.path":"https://cdn.jsdelivr.net/npm/tui-image-editor@3.2.2/dist/svg/icon-b.svg","menu.disabledIcon.path":"https://cdn.jsdelivr.net/npm/tui-image-editor@3.2.2/dist/svg/icon-a.svg","menu.hoverIcon.path":"https://cdn.jsdelivr.net/npm/tui-image-editor@3.2.2/dist/svg/icon-c.svg","submenu.normalIcon.path":"https://cdn.jsdelivr.net/npm/tui-image-editor@3.2.2/dist/svg/icon-d.svg","submenu.normalIcon.name":"icon-d","submenu.activeIcon.path":"https://cdn.jsdelivr.net/npm/tui-image-editor@3.2.2/dist/svg/icon-c.svg","submenu.activeIcon.name":"icon-c"},initMenu:"filter",menuBarPosition:"left"}},tui:window.tui}),s.FE.PLUGINS.imageTUI=function(u){function c(e){s("#tuieditor").remove(),e.style.display="none"}return{_init:function(){var e=u.o_doc.body,t=u.o_doc.createElement("div");t.setAttribute("id","tuiContainer"),t.style.cssText="position: fixed; top: 0;left: 0;margin: 0;padding: 0;width: 100%;height: 100%;background: rgba(0,0,0,.5);z-index: 9998;display:none",e.appendChild(t)},launch:function(t){if("object"==typeof u.opts.tui){u.o_doc.body;var e=u.o_doc.createElement("div");e.setAttribute("id","tuieditor");var i=u.o_doc.getElementById("tuiContainer");i.appendChild(e),i.style.display="block";var n=t.image.get(),o=u.opts.imageTUIOptions;o.includeUI.loadImage={path:n[0].src,name:" "};var d=new u.opts.tui.ImageEditor(u.o_doc.querySelector("#tuieditor"),o),a=u.o_doc.getElementById("tuieditor");a.style.minHeight="590px",a.style.width="94%",a.style.height="94%",a.style.margin="auto",s(".tui-image-editor-header-buttons").html('<button class="tui-editor-cancel-btn" data-cmd="cancel_tui_image">Cancel</button> <button class="tui-editor-save-btn">Save</button>'),s(".tui-editor-cancel-btn").click(function(e){c(i)}),s(".tui-editor-save-btn").click(function(e){!function(e,t,i){for(var n=e.toDataURL(),o=atob(n.split(",")[1]),d=[],a=0;a<o.length;a++)d.push(o.charCodeAt(a));var u=new Blob([new Uint8Array(d)],{type:"image/png"});t.image.edit(s(i)),t.image.upload([u])}(d,t,n),c(i)})}}}},s.FE.DefineIcon("imageTUI",{NAME:"sliders",FA5NAME:"sliders-h"}),s.FE.RegisterCommand("imageTUI",{title:"Advanced Edit",undo:!1,focus:!1,callback:function(e,t){this.imageTUI.launch(this)},plugin:"imageTUI"}),!s.FE.PLUGINS.image)throw new Error("TUI image editor plugin requires image plugin.");s.FE.DEFAULTS.imageEditButtons.push("imageTUI")});